<!DOCTYPE html>
<html>
<head><title>smallpt</title></head>
<body>
<canvas id="renderCanvas" width="256" height="256"></canvas>
<div id="status"></div>
<script>
'use strict'
var ctx = document.getElementById('renderCanvas').getContext('2d')
var worker = new Worker('smallpt.js')
worker.onmessage = function (e) {
	if (e.data.status) {
		document.getElementById('status').textContent = e.data.status
	} else {
		ctx.putImageData(new ImageData(e.data.line, 256), 0, e.data.y)
	}
}
</script>
</body>
</html>
